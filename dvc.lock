schema: '2.0'
stages:
  train:
    cmd: "papermill -p epochs 40 -p oversampling_strength 0.5 -p loss_weight_strength
      0.3 -p experiment_family focal_loss notebook.ipynb out/notebook.ipynb\n"
    deps:
    - path: data/ferplus
      hash: md5
      md5: 15327bfbd05879ecdc5b00faf3c6c961.dir
      size: 86467740
      nfiles: 35715
    - path: notebook.ipynb
      hash: md5
      md5: a89bfd940244cc0457a5772fc0e7a9e9
      size: 25620
    params:
      params.yaml:
        epochs: 40
        loss_weight_strength: 0.3
        oversampling_strength: 0.5
    outs:
    - path: data/basemodel.onnx
      hash: md5
      md5: f98d5d781e7c5f3e0626d4bb36f248eb
      size: 1713797
    - path: data/model.onnx
      hash: md5
      md5: e7697d4ef5d1fdd24df1c18002ef0f7f
      size: 1728964
    - path: data/model.pt
      hash: md5
      md5: b5fcb2b33a1bf79ea04673631f22f5a3
      size: 1696273
    - path: metrics/test.json
      hash: md5
      md5: fbf1272810730a1a1df1ec9ef71a2c4e
      size: 1084
    - path: metrics/train.json
      hash: md5
      md5: f688b06ace51ca37929fec5c165b6d1a
      size: 1103
  generate_assets:
    cmd: "rm -rf static/assets && mkdir static/assets && cp data/model.onnx static/assets/
      && cp data/basemodel.onnx static/assets/ && cp data/ultraface-RFB-320.onnx static/assets/\n"
    deps:
    - path: data/basemodel.onnx
      hash: md5
      md5: f98d5d781e7c5f3e0626d4bb36f248eb
      size: 1713797
    - path: data/model.onnx
      hash: md5
      md5: e7697d4ef5d1fdd24df1c18002ef0f7f
      size: 1728964
    - path: data/ultraface-RFB-320.onnx
      hash: md5
      md5: 1456b253b02dcd6a0e02a6d8ad69b136
      size: 1270727
